<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="Python基础" name="keywords">
    <meta content="出去旅游一个星期刚刚回来，上周是什么也没有更新，当我们要去做一件自己非常喜欢而又美好的事，就得去做更多不喜欢不美好的事来换取这个机会。时间是有限的，所以应当珍惜当下！今天就来复习一下Python 中有关时间的操作" name="description">
    <meta content="J.sky" name="author">
    <link rel="icon" type="image/png" href="https://suiyan.cc/assets/images/favicon/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="https://suiyan.cc/assets/images/favicon/favicon-16x16.png" sizes="16x16" />
    <title>SuiYan-碎言博客Python3 datetime模块的时间操作</title>
    <!-- 引入 pico.css -->
    <link rel="stylesheet" href="https://suiyan.cc/assets/css/pico.min.css">
    <!-- 引入 图标CDN -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 引入 站点样式 -->
    <link rel="stylesheet" href="https://suiyan.cc/assets/css/custom.css">
    <script src="https://suiyan.cc/assets/js/jquery-3.3.1.min.js"></script>
</head>
<body>
<div class="hero" data-theme="dark" style="background-image: url('https://suiyan.cc/assets/images/bg.jpg');">
    <nav class="container-fluid"><ul>
    <li><a href="https://suiyan.cc/" class="contrast">SuiYan</a></li>
</ul>
<ul>
    <li>
        <details role="list" dir="rtl">
            <summary aria-haspopup="listbox" role="link" class="contrast">Theme</summary>
            <ul role="listbox">
                <li><a href="#" data-theme-switcher="auto">Auto</a></li>
                <li><a href="#" data-theme-switcher="light">Light</a></li>
                <li><a href="#" data-theme-switcher="dark">Dark</a></li>
            </ul>
        </details>
    </li>
</ul></nav>
    <head><header class="container">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <div class="hd"><span id="typed"></span></div>
    <script>
        const typed = new Typed('#typed', {
          strings: [
          
          'Life is short, you need Python',
          
          '人生苦短，我用Python.',
          
          'Beautiful is better than ugly.',
          
          '美丽优于丑陋.',
          
          'Explicit is better than implicit.',
          
          '直白优于含蓄.',
          
          'Simple is better than complex.',
          
          '简单优于复杂.',
          
          'Complex is better than complicated.',
          
          '复杂优于繁琐.',
          
          'Readability counts.',
          
          '可读性很重要.',
          
          ],
          typeSpeed: 100,
          backSpeed: 10,
          backDelay: 100,
          startDelay: 1000,
          loop:true
    });

    </script>
</header></head>
</div>
<main class="container">
    <div class="grid">
        <section>



<hgroup>
    <h1>Python3 datetime模块的时间操作</h1>
    <h3> 作者:<a href="#">J.sky</a> | <small>发表于:2017-09-18 13:23:43</small> | <small>更新于:2023-04-13 09:40:24</small> | Tag:
        
        
        <small>Python基础</small>
        
    </h3>
</hgroup>
<p><p><em>出去旅游一个星期刚刚回来，上周是什么也没有更新，当我们要去做一件自己非常喜欢而又美好的事，就得去做更多不喜欢不美好的事来换取这个机会。时间是有限的，所以应当珍惜当下！今天就来复习一下Python 中有关时间的操作</em></p>
<h3>datetime 模块</h3>
<p>导入模块</p>
<pre><code>from datetime import *
</code></pre>
<p>获取当前时间:</p>
<pre><code>now = datetime.now()
td = datetime.today()
</code></pre>
<p>格式化打印时间 格式字符串参见后边的附录。</p>
<pre><code>format = "%Y-%m-%d %H:%M:%S"
print('今天的日期：'+ now.strftime(format))
</code></pre>
<p>根据字符串返回datetime对象
格式化的字符串应与前边的时间对应。比如："2017-09-18 13:02:34", "%Y-%m-%d %H:%M:%S"</p>
<pre><code>print('strptime:{}'.format(datetime.strptime("2017-09-18", "%Y-%m-%d")))
</code></pre>
<p>时间对象转换成时间戮</p>
<pre><code>tmp = td.timestamp()
print('timestamp: {}'.format(tmp))
</code></pre>
<p>根据时间戮转换成datetime对象</p>
<pre><code>print('fromtimestamp:{}'.format(datetime.fromtimestamp(tmp)))
</code></pre>
<p>星期几？0是星期一</p>
<pre><code>print(now.weekday()+1)
</code></pre>
<p>datetime 支持的最大及最小时间单位</p>
<pre><code>print(datetime.max)
print(datetime.min)
</code></pre>
<p>打印datetime对象包含的一个tuple</p>
<pre><code>for it in now.timetuple():
    print(it)
</code></pre>
<h3>附录：格式字符串</h3>
<ul>
<li>datetime. strftime (format)  </li>
<li>%a 星期的简写。如 星期三为Web  </li>
<li>%A 星期的全写。如 星期三为Wednesday  </li>
<li>%b 月份的简写。如4月份为Apr  </li>
<li>%B月份的全写。如4月份为April   </li>
<li>%c:  日期时间的字符串表示。（如： 04/07/10 10:43:39）  </li>
<li>%d:  日在这个月中的天数（是这个月的第几天）  </li>
<li>%f:  微秒（范围[0,999999]）  </li>
<li>%H:  小时（24小时制，[0, 23]）  </li>
<li>%I:  小时（12小时制，[0, 11]）  </li>
<li>%j:  日在年中的天数 [001,366]（是当年的第几天）  </li>
<li>%m:  月份（[01,12]）  </li>
<li>%M:  分钟（[00,59]）  </li>
<li>%p:  AM或者PM  </li>
<li>%S:  秒（范围为[00,61]，为什么不是[00, 59]，参考python手册~_~）  </li>
<li>%U:  周在当年的周数当年的第几周），星期天作为周的第一天  </li>
<li>%w:  今天在这周的天数，范围为[0, 6]，6表示星期天  </li>
<li>%W:  周在当年的周数（是当年的第几周），星期一作为周的第一天  </li>
<li>%x:  日期字符串（如：04/07/10）  </li>
<li>%X:  时间字符串（如：10:43:39）  </li>
<li>%y:  2个数字表示的年份  </li>
<li>%Y:  4个数字表示的年份  </li>
<li>%z:  与utc时间的间隔 （如果是本地时间，返回空字符串）  </li>
<li>%Z:  时区名称（如果是本地时间，返回空字符串）  </li>
<li>%%:  %% =&gt; %</li>
</ul>
<h3>相关参考</h3>
<p><a href="http://python.usyiyi.cn/documents/python_352/library/datetime.html#strftime-strptime-behavior">官方文档：datetime — 基本日期和时间类型</a></p>
<h3>本文源码下载：</h3>
<ul>
<li><a href="https://github.com/bosichong/17python.com/blob/master/datetime/datetimetest.py">github</a></li>
<li><a href="https://gitee.com/J_Sky/17python.com/blob/master/datetime/datetimetest.py">开源中国码云镜像gitee</a></li>
</ul></p>


</section>
        <aside><section>
    <hgroup class="hd">
        <img class="avatar" src="https://suiyan.cc/assets/images/avatar.jpg"/>
        <h3>J.sky</h3>
        <div><small>不要害怕犯错，犯错也是学习过程中的一环。知识的价值，是不能用金钱简单衡量的。—— 原神:提纳里</small></div>
        <div class="blog-state">
            <div class="state-item">
                <small>111</small>
                <small>日志</small>
            </div>
            <div class="state-item">
                <small>21</small>
                <small>标签</small>
            </div>
        </div>
        <ul class="sns-ul">
            
            <li class="sns-li">
                <a href="https://github.com/bosichong/suiyan" target="_blank">
                    <i class="fa fa-github "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://gitee.com/J_Sky/suiyan" target="_blank">
                    <i class="fa fa-git "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://user.qzone.qq.com/285911/" target="_blank">
                    <i class="fa fa-qq "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://www.zhihu.com/people/J_sky/activities" target="_blank">
                    <i class="fa fa-book "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://suiyan.cc/rss.xml" target="_blank">
                    <i class="fa fa-rss "></i>
                </a>
            </li>
            
        </ul>
    </hgroup>

    <!-- Search -->
    <div id="blog-search">
        <input type="text" id="search-input" name="search" placeholder="JavaScript">
        <button id="search-btn" class="contrast"
                data-target="modal-example"
                onClick="toggleModal(event)">Search
        </button>

    </div>


    <!-- Modal -->
    <dialog id="modal-example">
        <article>
            <a href="#close"
               aria-label="Close"
               class="close"
               data-target="modal-example"
               onClick="toggleModal(event)">
            </a>
            <h3>搜索结果</h3>
            <div id="modal" style="display: none;">
                <ul id="result-list"></ul>
            </div>
        </article>
    </dialog>
    <script src="https://suiyan.cc/assets/js/url.js"></script>
    <script src="https://suiyan.cc/assets/js/main.js"></script>
    <script src="https://suiyan.cc/assets/js/modal.js"></script>

</section>


<nav>
    <ul id="blog-nav">
        
        <li>
            <a href="https://suiyan.cc/index.html">
                <i class="fa fa-home"></i>
                Home
            </a>
        </li>
        
        <li>
            <a href="https://suiyan.cc/archives.html">
                <i class="fa fa-archive"></i>
                Archive
            </a>
        </li>
        
        <li>
            <a href="https://suiyan.cc/tags.html">
                <i class="fa fa-tags"></i>
                Tags
            </a>
        </li>
        
        <li>
            <a href="https://suiyan.cc/aboutme.html">
                <i class="fa fa-user"></i>
                About Me
            </a>
        </li>
        
    </ul>
</nav>
</aside>
    </div>

</main>
<footer><div class="container">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a>进行许可。
    <div><small>
        Powered by
    </small>
        <a href="https://github.com/Jsky2020/suiyan" target="_blank">
            SuiYan
        </a>
       <small> | </small>
        <small>
            Copyright
            <i aria-hidden="true" class="fa fa-copyright">
            </i>
            2017-2023
        </small>
    </div>
</div></footer>
<!-- Minimal theme switcher -->
<script src="https://suiyan.cc/assets/js/minimal-theme-switcher.js"></script>
<!-- Scroll to Top button selector -->
<a class="to-top"><i class="fa fa-chevron-up fa-3" aria-hidden="true"></i></a>
<script src="https://suiyan.cc/assets/js/jquery.toTop.min.js"></script>
<script>
        jQuery(function($){
            // Plugin activation (basic - with all default values)
            // $('.to-top').toTop();

            // Plugin activation with options
            $('.to-top').toTop({
                //options with default values
                autohide: true,  //boolean 'true' or 'false'
                offset: 420,     //numeric value (as pixels) for scrolling length from top to hide automatically
                speed: 500,      //numeric value (as mili-seconds) for duration
                position:true,   //boolean 'true' or 'false'. Set this 'false' if you want to add custom position with your own css
                right: 15,       //numeric value (as pixels) for position from right. It will work only if the 'position' is set 'true'
                bottom: 30       //numeric value (as pixels) for position from bottom. It will work only if the 'position' is set 'true'
            });
        });

</script>
</body>
</html>
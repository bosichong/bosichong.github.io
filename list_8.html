<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="Python,Django,JavaScript,程序员,人生苦短,我用Python" name="keywords">
    <meta content="Python Django JavaScript 学习讨论,我们是一群热爱Python的程序员，人生苦短，我用JavaScript！" name="description">
    <meta content="J.sky" name="author">
    <title>SuiYan-碎言博客-List Pages 第8页</title>
    <!-- 引入 pico.css -->
    <link rel="stylesheet" href="https://suiyan.cc/assets/css/pico.min.css">
    <!-- 引入 图标CDN -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 引入 站点样式 -->
    <link rel="stylesheet" href="https://suiyan.cc/assets/css/custom.css">
    <script src="https://suiyan.cc/assets/js/jquery-3.3.1.min.js"></script>
</head>
<body>
<div class="hero" data-theme="dark" style="background-image: url('https://suiyan.cc/assets/images/bg.jpg');">
    <nav class="container-fluid"><ul>
    <li><a href="https://suiyan.cc/" class="contrast">SuiYan</a></li>
</ul>
<ul>
    <li>
        <details role="list" dir="rtl">
            <summary aria-haspopup="listbox" role="link" class="contrast">Theme</summary>
            <ul role="listbox">
                <li><a href="#" data-theme-switcher="auto">Auto</a></li>
                <li><a href="#" data-theme-switcher="light">Light</a></li>
                <li><a href="#" data-theme-switcher="dark">Dark</a></li>
            </ul>
        </details>
    </li>
</ul></nav>
    <head><header class="container">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <hgroup class="hd">
        <img class="avatar" src="https://suiyan.cc/assets/images/avatar.jpg"/>
        <div><span id="typed"></span></div>
        <ul class="sns-ul">
            
            <li class="sns-li">
                <a href="https://github.com/bosichong/suiyan" target="_blank">
                    <i class="fa fa-github "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://gitee.com/J_Sky/suiyan" target="_blank">
                    <i class="fa fa-git "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://weibo.com/qq285911" target="_blank">
                    <i class="fa fa-weibo "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://user.qzone.qq.com/285911/" target="_blank">
                    <i class="fa fa-qq "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://www.zhihu.com/people/J_sky/activities" target="_blank">
                    <i class="fa fa-book "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://suiyan.cc/rss.xml" target="_blank">
                    <i class="fa fa-rss "></i>
                </a>
            </li>
            
        </ul>
    </hgroup>
    <script>
        const typed = new Typed('#typed', {
          strings: [
          
          'Life is short, you need Python',
          
          '人生苦短，我用Python.',
          
          'Beautiful is better than ugly.',
          
          '美丽优于丑陋.',
          
          'Explicit is better than implicit.',
          
          '直白优于含蓄.',
          
          'Simple is better than complex.',
          
          '简单优于复杂.',
          
          'Complex is better than complicated.',
          
          '复杂优于繁琐.',
          
          'Readability counts.',
          
          '可读性很重要.',
          
          ],
          typeSpeed: 100,
          backSpeed: 10,
          backDelay: 100,
          startDelay: 1000,
          loop:true
    });
  </script>
</header></head>
</div>
<main class="container">
    <div class="grid">
        <section>



<hgroup>
    <h2>wxPython编程学习笔记(10)wx.FileDialog文件选择框</h2>
    <h3> 作者:<a href="#">J.sky</a> | <small>发表于:2019-01-05 14:41:02</small> | <small>更新于:2023-04-13 09:40:24</small> | Tag:
        
        
        <samll>Python GUI</samll>
        
    </h3>
</hgroup>
<p><p><img alt="输入图片说明" src="https://suiyan.cc/assets/images/media/upload/2019/01/Snip20190105_13.png" /></p>
<h2>wx.FileDialog文件选择框</h2>
<p>'FileDialog'是一个文件选择框，我们可以根据弹出框选择文件，确定后返回该文件的地址。</p>
<h2>创建</h2>
<pre><code>dlg = wx.FileDialog(parent, message=None, defaultDir=None, defaultFile=None, wildcard=None, style=None, pos=None, size=None, name=None)
dlg.GetPath()#返回文件地址字符串
</code></pre>
<p>其打开方式和其它弹出窗口一样有模态和非模态，当按下确认按钮后，返回一个文件地址字符串。</p>
<p>我做了一个测试，代码下边跑跑看吧，希望能帮助到你。</p>
<pre><code>import wx
import os
import time

class MyFrame(wx.Frame):
    def __init__(self, *args, **kwds):

        kwds["style"] = kwds.get("style", 0) | wx.DEFAULT_FRAME_STYLE
        wx.Frame.__init__(self, *args, **kwds)
        self.SetSize((400, 300))
        self.text_ctrl_1 = wx.TextCtrl(self, wx.ID_ANY, "")
        self.button_1 = wx.Button(self, wx.ID_ANY, u"选择文件")
        self.text_ctrl_2 = wx.TextCtrl(self, wx.ID_ANY, "")

        self.__set_properties()
        self.__do_layout()


    def __set_properties(self):

        self.SetTitle("frame")
        self.button_1.Bind(wx.EVT_BUTTON,self.onButton_1)

    def __do_layout(self):

        sizer_1 = wx.BoxSizer(wx.VERTICAL)
        sizer_3 = wx.BoxSizer(wx.HORIZONTAL)
        sizer_2 = wx.BoxSizer(wx.HORIZONTAL)
        sizer_2.Add(self.text_ctrl_1, 1, wx.ALL, 0)
        sizer_2.Add(self.button_1, 0, 0, 0)
        sizer_1.Add(sizer_2, 0, wx.ALL | wx.EXPAND, 0)
        sizer_3.Add(self.text_ctrl_2, 1, wx.ALL | wx.EXPAND, 0)
        sizer_1.Add(sizer_3, 1, wx.ALL | wx.EXPAND, 0)
        self.SetSizer(sizer_1)
        self.Layout()

    def onButton_1(self,e):
        print("按钮事件")
        dlg = wx.FileDialog(self, message="选择一个文件", defaultDir=os.getcwd(), style=wx.FD_OPEN)
        ret = dlg.ShowModal()
        if ret == wx.ID_OK:
            print(dlg.GetPath())  # 文件地址
            self.text_ctrl_1.SetValue(dlg.GetPath())

            fp = os.path.join(dlg.GetPath())  # 组装文件地址
            ###输出到弹出信息窗口的字符拼装。
            retstr = str(self.get_FileSize(fp)) + "\n" + self.get_FileAccessTime(fp) + "\n" + self.get_FileCreateTime(
                fp) + "\n" + self.get_FileModifyTime(fp)
            self.text_ctrl_2.SetValue(retstr)

        dlg.Destroy()


    # 把时间戳转化为时间: 1479264792 to 2016-11-16 10:53:12
    def TimeStampToTime(self, timestamp):
        timeStruct = time.localtime(timestamp)
        return time.strftime('%Y-%m-%d %H:%M:%S', timeStruct)

    # 获取文件的大小,结果保留两位小数，单位为MB
    def get_FileSize(self, filePath):
        fsize = os.path.getsize(filePath)
        return fsize

    # 获取文件的访问时间
    def get_FileAccessTime(self, filePath):
        t = os.path.getatime(filePath)
        return self.TimeStampToTime(t)

    # 获取文件的创建时间
    def get_FileCreateTime(self, ilePath):
        t = os.path.getctime(ilePath)
        return self.TimeStampToTime(t)

    # 获取文件的修改时间
    def get_FileModifyTime(self, filePath):
        t = os.path.getmtime(filePath)
        return self.TimeStampToTime(t)
class MyApp(wx.App):
    def OnInit(self):
        self.frame = MyFrame(None, wx.ID_ANY, "")
        self.SetTopWindow(self.frame)
        self.frame.Show()
        return True


if __name__ == "__main__":
    app = MyApp(0)
    app.MainLoop()
</code></pre>
<h2>本文源码下载：</h2>
<ul>
<li><a href="https://github.com/bosichong/wxPythonTest/blob/master/wxpy10.py">github</a></li>
<li><a href="https://gitee.com/J_Sky/wxPythonTest/blob/master/wxpy10.py">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>wxPython编程学习笔记(09)wx.Python Menu 菜单</h2>
    <h3> 作者:<a href="#">J.sky</a> | <small>发表于:2019-01-03 18:08:40</small> | <small>更新于:2023-04-13 09:40:24</small> | Tag:
        
        
        <samll>Python GUI</samll>
        
    </h3>
</hgroup>
<p><p><img alt="输入图片说明" src="https://suiyan.cc/assets/images/media/upload/2019/01/Snip20190103_12.png" /></p>
<h3>Menu 菜单</h3>
<p>菜单是程序经常用到的小部件，我们来看看如何创建。</p>
<pre><code>    self.menubar = wx.MenuBar()#创建一个程序菜单
    self.fileMenu = wx.Menu()#创建一个一级菜单，这个菜单里可以继续加入菜单，就可以产行二级菜单
    self.new = wx.MenuItem(self.fileMenu,9,"new")#创建菜单项
    self.fileMenu.Append(self.new)#添加菜单项
</code></pre>
<p>以上这几个操作就可以创建一个菜单及菜单项了</p>
<h2>wxPython 右键菜单</h2>
<p>创建方法，可以先创建一个菜单类<code>class MyPopupMenu(wx.Menu)</code>
然后再类中添加菜单项，最后在窗口程序中添加右键绑定一个事件：<code>self.Bind(wx.EVT_RIGHT_DOWN, self.OnRightDown)</code>
然后事件函数中生成这个菜单<code>self.PopupMenu(MyPopupMenu(self), e.GetPosition())</code>
这样，窗口程序中就有一个右键菜单了，完整的代码再下边，可以跑跑试试</p>
<pre><code>import wx

class MyPopupMenu(wx.Menu):

    def __init__(self, parent):
        super(MyPopupMenu, self).__init__()

        self.parent = parent

        mmi = wx.MenuItem(self, wx.NewId(), 'Minimize')
        self.Append(mmi)
        self.Bind(wx.EVT_MENU, self.OnMinimize, mmi)

        cmi = wx.MenuItem(self, wx.NewId(), 'Close')
        self.Append(cmi)
        self.Bind(wx.EVT_MENU, self.OnClose, cmi)


    def OnMinimize(self, e):
        self.parent.Iconize()

    def OnClose(self, e):
        self.parent.Close()

class HelloFrame(wx.Frame):
    def __init__(self, *args, **kw):
        #调用父类的创建方法
        super(HelloFrame, self).__init__(*args, **kw)

        self.menubar = wx.MenuBar()#创建一个程序菜单
        self.fileMenu = wx.Menu()#创建一个一级菜单，这个菜单里可以继续加入菜单，就可以产行二级菜单
        self.new = wx.MenuItem(self.fileMenu,9,"new")#创建菜单项
        self.fileMenu.Append(self.new)#添加菜单项

        self.editMenu = wx.Menu()
        self.copyItem = wx.MenuItem(self.editMenu, 100, text="copy", kind=wx.ITEM_NORMAL)
        self.editMenu.Append(self.copyItem)
        self.cutItem = wx.MenuItem(self.editMenu, 101, text="cut", kind=wx.ITEM_NORMAL)
        self.editMenu.Append(self.cutItem)
        self.pasteItem = wx.MenuItem(self.editMenu, 102, text="paste", kind=wx.ITEM_NORMAL)
        self.editMenu.Append(self.pasteItem)

        self.fileMenu.Append(22, "Edit", self.editMenu)
        self.fileMenu.AppendSeparator()
        self.fileMenu.AppendSeparator()#分隔线
        self.qmi = wx.MenuItem(self.fileMenu, 1, '&amp;Quit\tCtrl+Q')
        self.fileMenu.Append(self.qmi)

        self.Bind(wx.EVT_MENU, self.OnQuit, id=1)

        self.menubar.Append(self.fileMenu, '&amp;File')
        self.SetMenuBar(self.menubar)

        self.Bind(wx.EVT_RIGHT_DOWN, self.OnRightDown)

    def OnRightDown(self, e):
        self.PopupMenu(MyPopupMenu(self), e.GetPosition())

    def OnQuit(self, e):
        self.Close()

def main():
    app = wx.App(False)
    frm = HelloFrame(None, title='wx.MenuBar 菜单',)
    frm.Show()#显示窗口
    app.MainLoop()#持续更新窗口


if __name__ == '__main__':
        main()
</code></pre>
<h2>本文源码下载：</h2>
<ul>
<li><a href="https://github.com/bosichong/wxPythonTest/blob/master/wxpy09.py">github</a></li>
<li><a href="https://gitee.com/J_Sky/wxPythonTest/blob/master/wxpy09.py">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>


<hgroup>
    <h2>Python os.mknod 运行报错无法创建文件</h2>
    <h3> 作者:<a href="#">J.sky</a> | <small>发表于:2018-12-27 10:47:01</small> | <small>更新于:2023-04-13 09:40:24</small> | Tag:
        
        
        <samll>Python基础</samll>
        
    </h3>
</hgroup>
<p><p>import os
    file = os.path.join(os.path.dirname(<strong>file</strong>),'17python888.txt')
    os.mknod(file)#运行到此处，就会报错</p>
<pre><code># 解开注释，用下边的方法试试
# with open(file, mode='a',encoding='utf-8') as f:
#     pass
</code></pre>
<p>前几天因为要创建一个文件，但是osx下边却发生了错误，可以运行上边的代码试试</p>
<pre><code>os.mknod(file)#运行到此处，就会报错
PermissionError: [Errno 1] Operation not permitted
</code></pre>
<p>这个错误是由于linux系统权限不够，这可真是一个坑。</p>
<p>那么怎么办?</p>
<p>网上查了一下，可以用<code>open()</code>方法，咱试试。</p>
<p>通过测试，使用<code>open()</code>方法<code>mode="a"</code>即可搞定文件的创建。</p></p>


<hr>
<br>


<hgroup>
    <h2>wxPython编程学习笔记(08)wx.ListBox 下拉列表框</h2>
    <h3> 作者:<a href="#">J.sky</a> | <small>发表于:2018-12-27 09:51:07</small> | <small>更新于:2023-04-13 09:40:24</small> | Tag:
        
        
        <samll>Python GUI</samll>
        
    </h3>
</hgroup>
<p><h2>wx.ListBox 下拉列表框</h2>
<p>wx.ListBox是以中数据展示的小部件，使用方便简单，可以用来展示比较单一的数据，例如：各种地址，名称列表等。
这次准备了一个基于wx.ListBox构建的小小通讯录，实现了增删改但是木有查，为什么没有查？因为我没写，就这样了。
具体效果展示如下：
<img alt="输入图片说明" src="https://suiyan.cc/assets/images/media/upload/2018/12/Snip20181227_7.png" /></p>
<h2>wx.ListBox的创建及一些方法</h2>
<p>创建</p>
<pre><code>listbox = wx.ListBox(panel,choices=ls)
</code></pre>
<p>ListBox 有些常用的方法，用来处理列表中的数据</p>
<pre><code>listbox.Append(text) 添加
listbox.GetSelection() 获取索引
listbox.GetString(sel) 通过索引获取字符串
listbox.Delete(sel) 删除当前索引
listbox.Insert(renamed, sel) 在当前索引处添加新的值，返回当前索引
listbox.SetSelection(item_id) 根据索引值选择项
listbox.Clear() 清空当前列表
</code></pre>
<h2>通讯录的数据保存</h2>
<p>作为一个简单的通讯录应该能保存数据，处于简单化处理，我只保存一个文本到目录下，若是需要可以使用数据库。
通讯录在操作的同时我们要更新保存数据，所以，我建了三个方法，分别处理新建数据文本，打开读取，保存数据。
分别对应：newFile openFile saveFile,这样配合这几个方法就可以实现一个简单的通讯录了。</p>
<p>具体代码如下，可以跑跑看啦：</p>
<h2>本文源码下载：</h2>
<ul>
<li><a href="https://github.com/bosichong/wxPythonTest/blob/master/wxpy08.py">github</a></li>
<li><a href="https://gitee.com/J_Sky/wxPythonTest/blob/master/wxpy08.py">开源中国码云镜像gitee</a></li>
</ul></p>


<hr>
<br>



<nav>
    <li><a href="list_7.html" role="button" class="outline">Prev</a></li>
    <li><small>8 / 27</small></li>
    <li><a href="list_9.html" role="button" class="outline">Next</a></li>
</nav>

</section>
        <aside><section>
    <hgroup>
        <h2>Search</h2>
        <h3>Search This SuiYan blog</h3>
    </hgroup>

    <!-- Search -->
    <input type="text" id="search-input" name="search" placeholder="JavaScript">
    <button id="search-btn" class="contrast"
            data-target="modal-example"
            onClick="toggleModal(event)">Search
    </button>


    <!-- Modal -->
    <dialog id="modal-example">
        <article>
            <a href="#close"
               aria-label="Close"
               class="close"
               data-target="modal-example"
               onClick="toggleModal(event)">
            </a>
            <h3>搜索结果</h3>
            <div id="modal" style="display: none;">
                <ul id="result-list"></ul>
            </div>
        </article>
    </dialog>
    <script src="https://suiyan.cc/assets/js/url.js"></script>
    <script src="https://suiyan.cc/assets/js/main.js"></script>
    <script src="https://suiyan.cc/assets/js/modal.js"></script>

</section>


<nav>
    <ul>
        
        <li>
            <a href="https://suiyan.cc/index.html">
                <i class="fa fa-home"></i>
                Blog Home
            </a>
        </li>
        
        <li>
            <a href="https://suiyan.cc/archives.html">
                <i class="fa fa-archive"></i>
                Blog Archive
            </a>
        </li>
        
        <li>
            <a href="https://suiyan.cc/tags.html">
                <i class="fa fa-tags"></i>
                Blog Tag
            </a>
        </li>
        
        <li>
            <a href="https://suiyan.cc/aboutme.html">
                <i class="fa fa-user"></i>
                About Me
            </a>
        </li>
        
    </ul>
</nav>
</aside>
    </div>

</main>
<footer><div class="container">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
    <p><small>
        Powered by
    </small>
        <a href="https://github.com/Jsky2020/suiyan" target="_blank">
            SuiYan
        </a>
       <small> | </small><a href="https://github.com/bosichong" target="_blank">
            J.sky
        </a>
        <small>
            Copyright
            <i aria-hidden="true" class="fa fa-copyright">
            </i>
            2017-2023
        </small>
    </p>
</div></footer>
<!-- Minimal theme switcher -->
<script src="https://suiyan.cc/assets/js/minimal-theme-switcher.js"></script>
<!-- Scroll to Top button selector -->
<a class="to-top"><i class="fa fa-chevron-up fa-3" aria-hidden="true"></i></a>
<script src="https://suiyan.cc/assets/js/jquery.toTop.min.js"></script>
<script>
        jQuery(function($){
            // Plugin activation (basic - with all default values)
            // $('.to-top').toTop();

            // Plugin activation with options
            $('.to-top').toTop({
                //options with default values
                autohide: true,  //boolean 'true' or 'false'
                offset: 420,     //numeric value (as pixels) for scrolling length from top to hide automatically
                speed: 500,      //numeric value (as mili-seconds) for duration
                position:true,   //boolean 'true' or 'false'. Set this 'false' if you want to add custom position with your own css
                right: 15,       //numeric value (as pixels) for position from right. It will work only if the 'position' is set 'true'
                bottom: 30       //numeric value (as pixels) for position from bottom. It will work only if the 'position' is set 'true'
            });
        });

</script>
</body>
</html>
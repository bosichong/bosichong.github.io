<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="Python,Django,JavaScript,程序员,人生苦短,我用Python" name="keywords">
    <meta content=" Python Django JavaScript 学习讨论,我们是一群热爱Python的程序员，人生苦短，我用JavaScript！一个不会JavaScript的Python开发者不是一个好网管。" name="description">
    <meta content="J.sky" name="author">
    <title>SuiYan 碎言博客 Git多人协作（码云）中的一些操作简单记录</title>
    <!-- 引入 pico.css -->
    <link rel="stylesheet" href="https://bosichong.github.io/assets/css/pico.min.css">
    <!-- 引入 pico.css -->
    <link rel="stylesheet" href="https://bosichong.github.io/assets/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <!-- 引入 站点样式 -->
    <link rel="stylesheet" href="https://bosichong.github.io/assets/css/custom.css">
    <script src="https://bosichong.github.io/assets/js/jquery-3.3.1.min.js"></script>
    
</head>
<body>
<div class="hero" data-theme="dark" style="background-image: url('https://bosichong.github.io/assets/images/bg.jpeg');">
    <nav class="container-fluid"><ul>
    <li><a href="https://bosichong.github.io/" class="contrast">SuiYan</a></li>
</ul>
<ul>
    <li>
        <details role="list" dir="rtl">
            <summary aria-haspopup="listbox" role="link" class="contrast">Theme</summary>
            <ul role="listbox">
                <li><a href="#" data-theme-switcher="auto">Auto</a></li>
                <li><a href="#" data-theme-switcher="light">Light</a></li>
                <li><a href="#" data-theme-switcher="dark">Dark</a></li>
            </ul>
        </details>
    </li>
</ul></nav>
    <head><header class="container">
    <hgroup class="hd">
        <img class="avatar" src="https://bosichong.github.io/assets/images/touxiang.jpg"/>
        <div>You see see you , This one day day di.</div>
        <ul class="sns-ul">
            
            <li class="sns-li">
                <a href="https://github.com/bosichong/suiyan" target="_blank">
                    <i class="fa fa-github "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://gitee.com/J_Sky/suiyan" target="_blank">
                    <i class="fa fa-git "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://weibo.com/qq285911" target="_blank">
                    <i class="fa fa-weibo "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://user.qzone.qq.com/285911/" target="_blank">
                    <i class="fa fa-qq "></i>
                </a>
            </li>
            
            <li class="sns-li">
                <a href="https://www.zhihu.com/people/J_sky/activities" target="_blank">
                    <i class="fa fa-book "></i>
                </a>
            </li>
            
        </ul>
    </hgroup>
</header></head>
</div>
<main class="container">
    <div class="grid">
        <section>



<hgroup>
    <h2>Git多人协作（码云）中的一些操作简单记录</h2>
    <h3> 作者:<a href="#">J.sky</a> <small>发布时间:2018-10-28 14:24:15</small> Tag:
        
        
        <small>Git</small>
        
    </h3>
</hgroup>
<p><p>最近和一个帅哥共同开发一个小项目，期间需要使用Git协作开发，之前是个人使用Git进行一些简单的提交，与他人Git协作算是头一回，记录下一些操作备查。</p>
<p>我们模拟一个项目的多人Git协作，假设多人合作至少二人，并且添加合作人员进入项目为开发者以上权限。远程代码仓库以码云'gitee.com'为例:</p>
<h2>创建远程代码仓库和本地仓库。</h2>
<ul>
<li>选择码云在线创建代码仓库很方便，我们直接在线创建一个master和dev两条分支（很简单，这里不截图了）。</li>
<li>创建本地代码仓库与远程关联：1.利用'git clone XXXXXXX'下载到本地，即可关联仓库。</li>
<li>但是远端的dev分支并没有下载来，我们新建本地分支dev并进入，然后pull远程分支.<pre><code>➜  test git:(master) git branch 
* master
➜  test git:(master) git checkout -b dev
Switched to a new branch 'dev'
➜  test git:(dev) git pull origin dev   
From https://gitee.com/bosichong/test
* branch            dev        -&gt; FETCH_HEAD
Already up-to-date.
➜  test git:(dev) git branch 
* dev
master
</code></pre>
</li>
</ul>
<p>这样的话我们的本地库与远程代码仓库相关联了。</p>
<h2>如何协作更新代码？</h2>
<p>远程master是主分支，一般由专人负责提交更新版本即可，我们主要是在dev这样的分支上进行更新操作，当程序更新到一定程序后，合并到master中发布一个版本。
模拟一次git协作：
假设需要研发一个人工智能编码器，我和我的小伙们都在进行编码，我在分支aicode仓库中ai.py编写了大量的代码并完成需要上传远程仓库dev。
首先我把aicode分支全并到本地的dev,然后上传到远程dev仓库。</p>
<pre><code>➜  test git:(dev) git checkout -b aicode
Switched to a new branch 'aicode'
➜  test git:(aicode) touch ai.py
➜  test git:(aicode) ✗ vi ai.py 
➜  test git:(aicode) ✗ git add .
➜  test git:(aicode) ✗ git commit -m 'aicode功能更新'
[aicode a1e0b50] aicode功能更新
1 file changed, 2 insertions(+)
create mode 100644 ai.py
➜  test git:(aicode) git checkout dev 
Switched to branch 'dev'
➜  test git:(dev) git merge aicode 
Updating 8fcac3b..a1e0b50
Fast-forward
ai.py | 2 ++
1 file changed, 2 insertions(+)
create mode 100644 ai.py
➜  test git:(dev) git push origin dev  
Counting objects: 3, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 298 bytes | 298.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0)
remote: Powered by Gitee.com
To https://gitee.com/bosichong/test.git
8fcac3b..a1e0b50  dev -&gt; dev
</code></pre>
<p>这样我就完成了一次更新，其实挺简单的。</p>
<h2>发生冲突怎么办？</h2>
<p>有一次我和我的小伙伴都在更新readme.md，他负责前半部我负责后半部分，但是他明显比我快，先进行了版本提交，而我刚刚弄完，现在要提交了，当我提交dev分支到远程的时候终端提示如下：</p>
<pre><code>To https://gitee.com/bosichong/test.git
! [rejected]        dev -&gt; dev (fetch first)
error: failed to push some refs to 'https://gitee.com/bosichong/test.git'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
</code></pre>
<p>大体意思是：远程的版本比你现在的要新，你需要先下载更新一下，然后再提交。好吧，我先更新一下dev版本，pull下来。
然后再pull的时候提示如下：</p>
<pre><code>* branch            dev        -&gt; FETCH_HEAD
99ccc9c..4c49e33  dev        -&gt; origin/dev
Auto-merging README.md
CONFLICT (content): Merge conflict in README.md
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>大体意思是文件已经pull下来了，但是两个文件有冲突，必须先处理冲突，并告诉你冲突文件是readme.md。
我们解决一下文件中的冲突内容：</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
我更新的下半部分啊
=======
小伙伴更新的上半部分
&gt;&gt;&gt;&gt;&gt;&gt;&gt; 4c49e33af00dd498b2d4761d3fc607ee29afbdf4
</code></pre>
<p>这里我这样的修改的：</p>
<pre><code>小伙伴更新的上半部分
我更新的下半部分啊
</code></pre>
<p>处理解决后，就可以提交更新dev到远程的仓库了。从此以后就可以和小伙伴们开心的编码了。</p>
<p>遇到问题：
1.今天小伙伴更新dev分支，但我怎么也pull不来，提示如下：</p>
<pre><code>Updating e32f487..204c0a1
error: Your local changes to the following files would be overwritten by merge:
    Psmrcddup.py
Please commit your changes or stash them before you merge.
</code></pre>
<p>解决方法：</p>
<pre><code>➜  PrimarySchoolMath git:(dev) ✗ git checkout -f
➜  PrimarySchoolMath git:(dev) git pull gitee dev
</code></pre>
<h2>分支策略</h2>
<p>在实际开发中，我们应该按照几个基本原则进行分支管理：</p>
<p>首先，master分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活；</p>
<p>那在哪干活呢？干活都从dev分支再创建一条分支在开工，完成后，再合并到本地dev并更新到远端dev，也就是说，dev分支是不稳定的，到某个时候，比如1.0版本发布时，再把dev分支合并到master上，在master分支发布1.0版本。</p>
<p>你和你的小伙伴们每个人都在dev分支上干活，每个人都有自己的分支，时不时地往dev分支上合并就可以了。</p>
<p>所以，团队合作的分支看起来就像这样：</p>
<p><img alt="输入图片说明" src="assets/images/media/upload/2018/10/0.png" /></p>
<p>一些常用协作git命令：</p>
<pre><code>查看分支：git branch
创建分支：git branch &lt;name&gt;
切换分支：git checkout &lt;name&gt;
创建+切换分支：git checkout -b &lt;name&gt;
合并某分支到当前分支：git merge &lt;name&gt;
删除分支：git branch -d &lt;name&gt;
git remote 显示 远程仓库的分支
git remote -v 显示更详细的信息：
</code></pre>
<h2>相关文章</h2>
<ul>
<li><a href="https://github.com/bosichong/PrimarySchoolMathematics">廖雪峰：git多人协作</a></li>
</ul></p>


</section>
        <aside><section>
    <hgroup>
        <h2>Search</h2>
        <h3>Search This SuiYan blog</h3>
    </hgroup>

    <!-- Search -->
    <input type="text" id="search-input" name="search" placeholder="JavaScript">
    <button id="search-btn" class="contrast"
            data-target="modal-example"
            onClick="toggleModal(event)">Search
    </button>


    <!-- Modal -->
    <dialog id="modal-example">
        <article>
            <a href="#close"
               aria-label="Close"
               class="close"
               data-target="modal-example"
               onClick="toggleModal(event)">
            </a>
            <h3>搜索结果</h3>
            <div id="modal" style="display: none;">
                <ul id="result-list"></ul>
            </div>
        </article>
    </dialog>
    <script src="https://bosichong.github.io/assets/js/url.js"></script>
    <script src="https://bosichong.github.io/assets/js/main.js"></script>
    <script src="https://bosichong.github.io/assets/js/modal.js"></script>

</section>


<nav>
    <ul>
        
        <li>
            <a href="https://bosichong.github.io/index.html">
                <i class="fa fa-home"></i>
                Blog Home
            </a>
        </li>
        
        <li>
            <a href="https://bosichong.github.io/archives.html">
                <i class="fa fa-archive"></i>
                Blog Archive
            </a>
        </li>
        
        <li>
            <a href="https://bosichong.github.io/tags.html">
                <i class="fa fa-tags"></i>
                Blog Tag
            </a>
        </li>
        
        <li>
            <a href="https://bosichong.github.io/aboutme.html">
                <i class="fa fa-user"></i>
                About Me
            </a>
        </li>
        
    </ul>
</nav>
</aside>
    </div>

</main>
<section></section>
<footer><div class="container">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
    <p><small>
        Powered by
    </small>
        <a href="https://github.com/Jsky2020/suiyan" target="_blank">
            SuiYan
        </a>
       <small> | </small><a href="https://github.com/bosichong" target="_blank">
            J.sky
        </a>
        <small>
            Copyright
            <i aria-hidden="true" class="fa fa-copyright">
            </i>
            2017-2023
        </small>
    </p>
</div></footer>
<!-- Minimal theme switcher -->
<script src="https://bosichong.github.io/assets/js/minimal-theme-switcher.js"></script>
<!-- Scroll to Top button selector -->
<a class="to-top"><i class="fa fa-chevron-up fa-3" aria-hidden="true"></i></a>
<script src="https://bosichong.github.io/assets/js/jquery.toTop.min.js"></script>
<script>
        jQuery(function($){
            // Plugin activation (basic - with all default values)
            // $('.to-top').toTop();

            // Plugin activation with options
            $('.to-top').toTop({
                //options with default values
                autohide: true,  //boolean 'true' or 'false'
                offset: 420,     //numeric value (as pixels) for scrolling length from top to hide automatically
                speed: 500,      //numeric value (as mili-seconds) for duration
                position:true,   //boolean 'true' or 'false'. Set this 'false' if you want to add custom position with your own css
                right: 15,       //numeric value (as pixels) for position from right. It will work only if the 'position' is set 'true'
                bottom: 30       //numeric value (as pixels) for position from bottom. It will work only if the 'position' is set 'true'
            });
        });

</script>
</body>
</html>